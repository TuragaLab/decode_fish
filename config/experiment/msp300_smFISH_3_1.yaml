seed: 0
device:
  gpu_device: cuda
run_name: msp300_smFISH_3_1
cfg_path: /groups/turaga/home/speisera/Dropbox (mackelab)/Artur/WorkDB/deepstorm/decode_fish/config/train.yaml
output:
  project: test
  group: nb_run
  save_dir: /groups/turaga/home/speisera/Mackebox/Artur/WorkDB/deepstorm/models/fishcod/${output.project}/${output.group}/${run_name}
  log_dir: /groups/turaga/home/speisera/Mackebox/Artur/WorkDB/deepstorm/decode_fish/runs/
  log_figs: true
  log_interval: 100
data_path:
  image_path: /groups/turaga/home/speisera/Mackebox/Artur/WorkDB/deepstorm//datasets/CodFish/smFISH_data_Titlow/msp300_smFISH_3.tif
  psf_path: /groups/turaga/home/speisera/Mackebox/Artur/WorkDB/deepstorm//decode_fish/data/msp300_smFISH_3.pkl
  model_init: null
evaluation:
  image_path: ${data_path.image_path}
  txt_path: null
  crop_sl: s_[:,200:250,150:200,:]
  px_size:
  - 100
  - 100
  - 100
prob_generator:
  low: 1.0e-08
  high: 0.005
bg_estimation:
  _target_: decode_fish.funcs.dataset.EstimateBackground
  smoothing_filter_size: 3
  div_factor: 1
random_crop:
  crop_sz: 48
roi_mask:
  pool_size:
  - 10
  - 10
  - 10
  percentile: 70
PSF:
  _target_: decode_fish.engine.psf.LinearInterpolatedPSF
  upsample_factor: 1
  device: ${device.gpu_device}
  gauss_radii:
  - 1
  - 1
  - 1
noise:
  _target_: decode_fish.engine.noise.sCMOS
  theta: 2.0
  baseline: 0.09
microscope:
  multipl: 200
  psf_extent_zyx:
  - 21
  - 21
  - 21
  psf_noise: null
  clamp_mode: cx
dataloader:
  bs: 2
foci:
  _target_: decode_fish.funcs.dataset.AddFoci
  n_foci_avg: 0.0
  rad_range:
  - 25
  - 200
  n_mol_range:
  - 5
  - 30
  px_size_xyz: ${evaluation.px_size}
  mode: gaussian
model:
  _target_: decode_fish.engine.model.UnetDecodeNoBn
  depth: 2
  f_maps: 32
  inp_scale: null
  inp_offset: null
  p_offset: -4.0
  order: ce
post_proc_isi:
  _target_: decode_fish.funcs.output_trafo.ISIPostProcess
  m1_threshold: 0.03
  samp_threshold: 0.7
  px_size: ${evaluation.px_size}
  diag: true
post_proc_si:
  _target_: decode_fish.funcs.output_trafo.SIPostProcess
  m1_threshold: 0.03
  m2_threshold: 0.5
  samp_threshold: 0.1
  px_size: ${evaluation.px_size}
  diag: false
supervised:
  num_iter: 10000
  bl_loss_scale: 0.01
  cnt_loss_scale: 1
  grad_clip: 0.005
  gamma: 0.5
  step_size: 6000
  opt:
    _target_: torch.optim.AdamW
    lr: 0.0005
autoencoder:
  num_iter: 10000
  grad_clip: 0.001
  gamma: 0.5
  step_size: 1000
  freq_ae: 1
  norm_reg: 0
  opt:
    _target_: torch.optim.AdamW
    lr: 5.0e-05
  lr: 5.0e-05
other:
  pp: isi
pointprocess:
  min_int: 0.3
ground_truth: null
